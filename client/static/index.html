<!DOCTYPE html>
<html lang="en">
    <head>
        <title>OpenChat</title>
        <meta name="description" content="Free and open-source communication">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="favicon.ico">
        <meta charset="UTF-8">

        <meta property="og:title" content="OpenChat" />
        <meta property="og:type" content="website" />
        <meta property="og:image" itemprop="image" content="http://example.jp/ogp-icon-200x200.png" />
        <meta property="og:site_name" itemprop="name" content="OpenChat" />
        <meta property="og:description" itemprop="description" content="Open Source Communication" />

        <link rel="stylesheet" href="./css/all.min.css" />
        <link rel="stylesheet" href="./css/normalize.css" />
        <link rel="stylesheet" href="./css/openchat.css" />

        <script src="./js/jquery.js"></script>
        <script src="./js/moment.js"></script>
        <script src="./js/socket.io.js"></script>
        <script src="./js/peer.js"></script>
        <script src="./js/handlebars.js"></script>
        <script src="./js/anchorme.js"></script>
        <script src="./js/openchat.js"></script>

        <link type="font/opentype" href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@100..900&display=swap" rel="stylesheet">
        <link type="font/opentype" href="https://fonts.googleapis.com/css2?family=Muli:wght@100..900&display=swap" rel="stylesheet">
    </head>
    
    <body>
        <div class="overlay active" id="connect_overlay">
            <div class="modal" id="connect_modal">
                <h2 class="center-self">Enter a display name</h2>
                <form class="login-form" id="connect_form">
                    <input type="text" id="name_input">
                    <button>Connect</button>
                </form>
            </div>
        </div>

        <nav>
            <h1 id="server_title"></h1>
            <a id="nav-close"><i class="fas fa-times"></i></a>
            <div id="channels">
                <h2>Channels</h2>
    
                <div class="channel-group">
                    <h3>Voice</h3>
                    <ul id="voice_channels">
            
                    </ul>
                </div>
                
                <div class="channel-group">
                    <h3>Text</h3>
                    <ul id="text_channels">
            
                    </ul>
                </div>
            </div>
    
            <div id="control_area">
                <a id="mute_microphone" class="control-button"><i class="fas fa-microphone fa-lg"></i></a>
                <a id="mute_audio" class="control-button"><i class="fas fa-volume-up fa-lg"></i></a>
                <a id="disconnect_button" class="control-button" style="display: none;"><i class="fas fa-phone-slash fa-lg"></i></a>
            </div>
    
        </nav>
    
        <main>
            
            <h2><a id="nav-toggle"><i class="fas fa-bars"></i></a> Messages</h2>
            <ol id="messages">
    
            </ol>
            <form id="message_input_area">
              <textarea rows="1" id="message_box" disabled></textarea>
              <button id="message_send" disabled>Send</button>
            </form>
        </main>
    </body>

    <audio id="call_out" autoplay></audio>

    <template id="ChatMessage" type="text/x-handlebars-template">
        <div id="{{messageID}}" class="message-card">
          <p>
            <strong>{{messageSender}}</strong>
            <i>{{messageDate}}</i>
            <br>
            {{messageContent}}
          </p>
          <div class="ogp-area">

          </div>
        </div>
      </template>

      <template id="OGPCard" type="text/x-handlebars-template">
        <div class="ogp-card">
          <img src="{{ogpImageURL}}">
          <p>
            <a target="_blank" href="{{ogpURL}}"><strong>{{ogpSiteName}}</strong>{{ogpTitle}}</a>
            <br>
            {{ogpDesc}}
          </p>
        </div>
      </template>
      
      <template id="VoiceChannel" type="text/x-handlebars-template">
        <li>
          <a id="{{channelID}}" class="channel">
            {{channelName}}
          </a>
          <ul id="{{channelID}}-users" class="user-list"></ul>
        </li>
      </template>
      
      <template id="TextChannel" type="text/x-handlebars-template">
        <li>
          <a id="{{channelID}}" class="channel">
            {{channelName}}
          </a>
        </li>
      </template>
      
</html>