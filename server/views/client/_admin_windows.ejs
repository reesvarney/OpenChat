<% if(req.user.permissions.global.edit_channels){%>
  <div uk-modal id="edit_channel">
    <div class="uk-modal-dialog uk-modal-body" uk-overflow-auto>
      <h3 class="uk-card-title">Edit Channel</h3>
      <form action="admin/channel//edit" method="post" class="uk-form-horizontal">
        <div class="uk-margin">
          <label class="uk-form-label">Name</label>
          <input type="text" name="name" class="uk-input uk-form-width-medium" placeholder="Channel Name">
        </div>
      </form>
      <div class="uk-inline uk-margin " id="edit_channel_actions">
        <button id="channel_save_btn" class="uk-button uk-button-secondary uk-button-small">Save</button>
        <button id="channel_delete_btn" class="uk-button uk-button-danger uk-button-small">Delete</button>
      </div>
    </div>
  </div>
<% } %>

<% if(req.user.permissions.global.edit_channels){%>
  <div uk-modal id="add_channel">
    <div class="uk-modal-dialog uk-modal-body" uk-overflow-auto>
      <h3 class="uk-card-title">New Channel</h3>
      <form action="admin/channel/new" method="post">
        <!-- TODO - Create radios dynamically for each defined channel type -->
        <div class="uk-margin">
          <label>Name</label>
          <input type="text" name="name" class="uk-input" placeholder="Channel Name">
        </div>

        <label>Type</label>
        <div class="uk-margin">
          <input type="radio" id="type_select_voice" name="type" class="uk-radio" value="voice">
          <label for="type_select_voice">Voice</label>

          <input type="radio" id="type_select_text" name="type" value="text" class="uk-radio" checked>
          <label for="type_select_text">Text</label>
        </div>

        <button class="uk-button uk-button-secondary uk-margin uk-button-small">Add</button>
      </form>
    </div>
  </div>
<% } %>

    
    <% if(req.user.permissions.global.edit_server || req.user.permissions.global.edit_roles){%>
      <div uk-modal id="edit_server">
        <div class="uk-modal-dialog uk-modal-body" uk-overflow-auto>
          <h3 class="uk-card-title">Server Settings</h3>
          <hr class="uk-divider-small">
  
          <% if(req.user.permissions.global.edit_server){%>
          <form action="admin/server/edit" method="post" class="uk-form-horizontal">
            <h4>Details</h4>
            <div class="uk-margin">
              <label class="uk-form-label">Server Name</label>
              <input type="text" name="name" class="uk-input uk-form-width-medium" placeholder="" value="<%= config.name %>">
            </div>
            
            <div class="uk-margin">
              <label class="uk-form-label">Allow anonymous users</label>
              <input type="hidden" name="allowAnon" value="false">
              <input class="uk-checkbox" type="checkbox" name="allowAnon" <% if(config.allowAnon){ %> checked <% } %> value="true">
            </div>

            <button class="uk-button uk-button-secondary uk-button-small">Save</button>
          </form>
          <hr class="uk-divider-icon">
        <% } %>
  
          <% if(req.user.permissions.global.edit_roles && roles !== undefined){%>
          <div id="edit_roles" class="uk-margin">
            <%- include("_role_settings", {roles}); %>
          </div>
          <% } %>
        </div>
      </div>
      <% } %>